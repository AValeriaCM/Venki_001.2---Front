<ion-header>
  <ion-toolbar class="ion-toolbar-ccs">
    <ion-buttons slot="start">
      <ion-button (click)="volverHome()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="tituloInfo">
      <label class="color-blue">M</label><label class="color-blueC">A</label><label class="color-blue">GIN</label>
    </ion-title>
  </ion-toolbar>
</ion-header>

<!-- busqueda -->

<ion-content>
  <ion-card>
    <ion-searchbar [value]="searhVariable" placeholder="Buscar Usuario..." animated (ionChange)="buscar($event)"
    style="font-family: Century Gothic;">
  </ion-searchbar>
  <br>
  <ion-list *ngIf="data.length > 0">
    <!--<ion-item *ngFor="let userS of data" class="friend">
      <ion-label (click)="abrirMensajesBusqueda(userS)">{{userS.name}}</ion-label>
    </ion-item>-->
    <ion-item class="container friend" *ngFor="let userS of data">
      <ion-avatar slot="start">
        <img src="/assets/user.png" (click)="abrirMensajesBusqueda(userS)"/>
      </ion-avatar>
      <p class="user-list" (click)="abrirMensajesBusqueda(userS)">
        <strong>{{userS.name}}&nbsp;{{userS.lastname}}</strong>
      </p>
    </ion-item>
  </ion-list>
  </ion-card>

  <!-- chats -->

  <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4">
    <mat-tab>
      <ng-template mat-tab-label>
        <ion-card-title class="title-css" style="font-size: 20px;">
          <ion-icon name="chatbubbles"></ion-icon>
        </ion-card-title>
      </ng-template>
      <br>
      <ion-card>
        <ion-card-title class="titlefriends">Chats</ion-card-title>
        <ion-card-content>
          <ion-list *ngFor="let cont of userList;">
            <ion-list>
              <ion-item class="friend" *ngIf="idUser === cont.receiver.id">
                <ion-avatar slot="start">
                  <img src="/assets/user.png" (click)="abrirDialogo(cont)" />
                </ion-avatar>
                <p class="user-list" (click)="abrirDialogo(cont)">
                  <strong>{{cont.transmitter.name}}&nbsp;{{cont.transmitter.lastname}}</strong><br>
                  <span>{{cont.receiver.city}}</span>
                </p>
              </ion-item>
              <ion-item class="friend" *ngIf="idUser !== cont.receiver.id">
                <ion-avatar slot="start">
                  <img src="/assets/user.png" (click)="abrirDialogo(cont)" />
                </ion-avatar>
                <p class="user-list" (click)="abrirDialogo(cont)">
                  <strong>{{cont.receiver.name}}&nbsp;{{cont.receiver.lastname}}</strong><br>
                  <span>{{cont.receiver.city}}</span>
                </p>
              </ion-item>
            </ion-list>
          </ion-list>

        </ion-card-content>
      </ion-card>
    </mat-tab>

    <!--  notificaciones -->

    <mat-tab>
      <ng-template mat-tab-label>
        <ion-card-title class="title-css">
          <ion-icon name="notifications"></ion-icon>
        </ion-card-title>
      </ng-template>
      <br>
      <ion-card-title class="titlefriends">Notificaciones</ion-card-title>
      <div class="container">
        <ion-list *ngFor="let cont of userList">
          <ion-item *ngIf="idUser == cont.transmitter.id" class="friend">
            <ion-avatar slot="start" class="author-image">
              <!--<img src="https://cdn4.iconfinder.com/data/icons/user-avatar-flat-icons/512/User_Avatar-04-512.png" />-->
              <img class="avatar" src="../../../assets/avatar/{{cont.receiver.avatar}}.jpg" class="imagestyle" (click)="verUser(cont.receiver)">
            </ion-avatar>
            <p class="user-list" (click)="verUser(cont.receiver)">
              <strong>Agregaste a <span style="color: black; font-size: 13px;">{{cont.receiver.name}}&nbsp;{{cont.receiver.lastname}}</span> como amigo. </strong>
            </p>
          </ion-item>
          <ion-item *ngIf="idUser !== cont.transmitter.id" class="friend">
            <ion-avatar slot="start" class="author-image">
              <img class="avatar" src="../../../assets/avatar/{{cont.transmitter.avatar}}.jpg" class="imagestyle" (click)="verUser(cont.transmitter)"/>
            </ion-avatar>
            <p class="user-list" (click)="verUser(cont.transmitter)">
              <strong>El usuario <span style="color: black; font-size: 13px;">{{cont.transmitter.name}}&nbsp;{{cont.transmitter.lastname}}</span> Te ha agregado como amigo. </strong>
            </p>
          </ion-item>
          <ion-item *ngIf="idUser !== cont.transmitter.id" class="friend">
            <ion-avatar slot="start" class="author-image">
              <img class="avatar" src="../../../assets/avatar/{{cont.transmitter.avatar}}.jpg" class="imagestyle" (click)="verUser(cont.transmitter)"/>
            </ion-avatar>
            <p class="user-list" (click)="verUser(cont.transmitter)">
              <strong>El usuario <span style="color: black; font-size: 13px;">{{cont.transmitter.name}}&nbsp;{{cont.transmitter.lastname}}</span> Te ha enviado un mensaje. </strong>
            </p>
          </ion-item>
        </ion-list>
      </div>
    </mat-tab>
  </mat-tab-group>

</ion-content>