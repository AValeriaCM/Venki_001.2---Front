<ion-header>
  <ion-toolbar class="ion-toolbar-ccs">
    <ion-buttons slot="start">
      <ion-button (click)="volverHome()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="tituloInfo">
      <label class="color-blue">M</label><label class="color-blueC">A</label><label class="color-blue">GIN</label>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar [value]="searhVariable" placeholder="Buscar..." animated (ionChange)="buscar($event)" style="font-family: Century Gothic;">
  </ion-searchbar>
  <br>
  <ion-list *ngIf="data.length > 0">
    <ion-item *ngFor="let userS of data">
      <ion-label (click)="abrirMensajesBusqueda(userS)">{{userS.name}}</ion-label>
    </ion-item>
  </ion-list>

  <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4">
    <mat-tab>
      <ng-template mat-tab-label>
        <ion-card-title class="title-css" style="font-size: 18px;">
          <ion-icon name="chatbubbles"></ion-icon>
          </ion-card-title>
      </ng-template>
      <br>
      <ion-card>
        <ion-card-title style="text-align: center;">Usuarios</ion-card-title>
        <ion-card-content>
          <ion-list *ngFor="let cont of userList;">
            <ion-list>
              <ion-item class="ion-item-css" *ngIf="idUser === cont.receiver.id">
                <ion-avatar slot="start">
                  <img src="https://www.computerhope.com/jargon/g/guest-user.jpg" (click)="abrirDialogo(cont)" />
                </ion-avatar>
                <ion-label (click)="abrirDialogo(cont)">{{cont.transmitter.name}}&nbsp;{{cont.transmitter.lastname}}
                </ion-label>
              </ion-item>
              <ion-item class="ion-item-css"  *ngIf="idUser !== cont.receiver.id">
                <ion-avatar slot="start">
                  <img src="https://www.computerhope.com/jargon/g/guest-user.jpg" (click)="abrirDialogo(cont)" />
                </ion-avatar>
                <ion-label (click)="abrirDialogo(cont)">{{cont.receiver.name}}&nbsp;{{cont.receiver.lastname}}
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-list>

        </ion-card-content>
      </ion-card>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <ion-card-title class="title-css">
          <ion-icon name="notifications"></ion-icon>
          </ion-card-title>
      </ng-template>
      <br>
      <div *ngFor="let not of notoficaciones">
        <ion-item class="ion-item-css" >
          <ion-avatar slot="start">
            <img src="{{not.img_notif}}" />
          </ion-avatar>
          <ion-textarea [disabled]="true" rows="5" class="Subtitle-cs-desc">{{not.notificacion}}
          </ion-textarea>
        </ion-item>
      </div>
    </mat-tab>
  </mat-tab-group>

</ion-content>